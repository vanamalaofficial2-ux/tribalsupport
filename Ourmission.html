<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>VanaMala — Tribal Art & Safety</title>

<!-- EmailJS -->
<script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
<script>
  // Your EmailJS public key (you provided earlier)
  (function(){ emailjs.init("iYW4ODkDbG7S9-aXC"); })();
</script>

<style>
  :root{
    --green-dark:#1f6f3a;
    --green:#2f9e4a;
    --accent:#9cd9a1;
    --muted:#6b6b6b;
    --card:#ffffff;
  }
  *{box-sizing:border-box}
  body{
    margin:0; font-family:Inter, system-ui, Arial, sans-serif;
    background: linear-gradient(180deg,#f7faf5 0%, #eef7ed 100%);
    color:#123;
    -webkit-font-smoothing:antialiased;
  }

  /* Header */
  header{
    background: linear-gradient(90deg,var(--green-dark),var(--green));
    color:white; padding:26px 18px; text-align:center;
    box-shadow:0 8px 30px rgba(31,111,58,0.12);
  }
  header h1{margin:0; font-size:28px; letter-spacing:0.2px}
  header p{margin:6px 0 0; opacity:.95; font-size:14px}

  /* Main layout */
  main{max-width:1100px; margin:-36px auto 80px; padding:20px; display:block}
  .hero{
    background:var(--card); border-radius:14px; padding:26px; display:flex; gap:20px; align-items:center;
    box-shadow:0 12px 40px rgba(0,0,0,0.06); transform-origin:center; animation:fadeUp .6s ease;
  }
  .hero-left{flex:1}
  .hero-right{width:320px; flex-shrink:0}

  .kicker{color:var(--green-dark); font-weight:700; font-size:12px; letter-spacing:0.8px}
  .hero h2{margin:6px 0 8px; font-size:26px}
  .hero p{color:var(--muted); margin:0 0 12px; line-height:1.6}

  .cta-row{display:flex; gap:12px; flex-wrap:wrap}
  .btn{
    padding:12px 18px; border-radius:10px; border:0; cursor:pointer; font-weight:700;
    box-shadow:0 8px 20px rgba(31,111,58,0.08);
    transition:transform .18s ease, box-shadow .18s ease;
  }
  .btn-primary{background:var(--green-dark); color:white}
  .btn-secondary{background:transparent; border:2px solid var(--green-dark); color:var(--green-dark)}
  .btn:hover{transform:translateY(-4px); box-shadow:0 18px 36px rgba(31,111,58,0.12)}

  /* Mission card (detailed) */
  .card{
    background:var(--card); border-radius:12px; padding:22px; box-shadow:0 10px 30px rgba(0,0,0,0.06);
    margin-top:18px;
  }
  .card h3{margin:0 0 8px; color:var(--green-dark)}
  .card p{color:#444; line-height:1.7}

  /* Sections grid */
  .grid{display:grid; grid-template-columns:repeat(2, 1fr); gap:18px; margin-top:18px}
  .stat{background:linear-gradient(180deg,#fff,#f7fff7); padding:16px; border-radius:10px; text-align:center}
  .stat h4{margin:6px 0; color:var(--green-dark)}
  .stat p{margin:0;color:var(--muted)}

  /* Gallery */
  .gallery{display:flex; gap:10px; flex-wrap:wrap; margin-top:10px}
  .thumb{flex:1 1 160px; min-height:110px; background:#eee; border-radius:8px; overflow:hidden; display:flex;align-items:center;justify-content:center;color:#999}

  /* Volunteer / Contact */
  .row{display:flex; gap:18px; align-items:flex-start; margin-top:18px; flex-wrap:wrap}
  .col{flex:1; min-width:240px}

  footer{max-width:1100px;margin:36px auto 60px;padding:18px;text-align:center;color:#666}

  /* popup */
  .popup-bg{display:none; position:fixed; inset:0; background:rgba(0,0,0,0.55); backdrop-filter:blur(3px); z-index:80; align-items:center; justify-content:center}
  .popup{
    width:360px; max-width:92%; background:var(--card); border-radius:12px; padding:18px; text-align:center;
    box-shadow:0 18px 50px rgba(0,0,0,0.18);
    animation:zoomIn .28s cubic-bezier(.2,.9,.27,1);
  }
  .popup h4{margin:0 0 8px; color:var(--green-dark)}
  .qr-img{width:260px; max-width:86%; border-radius:10px; display:block; margin:10px auto}
  .small-muted{font-size:13px; color:#666; margin-top:8px}

  /* forms */
  .input{width:100%; padding:10px; margin-top:10px; border-radius:8px; border:1px solid #ddd}
  .lbl{display:flex;align-items:center;gap:8px;margin-top:10px;color:#444}

  /* Animations */
  @keyframes zoomIn{from{transform:scale(.92);opacity:0}to{transform:scale(1);opacity:1}}
  @keyframes fadeUp{from{transform:translateY(8px);opacity:0}to{transform:translateY(0);opacity:1}}
  @media(max-width:880px){
    .grid{grid-template-columns:1fr}
    .hero{flex-direction:column}
    .hero-right{width:100%}
  }
</style>
</head>
<body>

<header>
  <h1>VanaMala</h1>
  <p>Bringing tribal art to every heart — and teaching safety where it matters most.</p>
</header>

<main>
  <!-- Hero -->
  <section class="hero">
    <div class="hero-left">
      <div class="kicker">COMMUNITY · SAFETY · CULTURE</div>
      <h2>We buy crafts, we teach safety, we build hope.</h2>
      <p>VanaMala connects tribal artisans with new buyers and uses the proceeds to run disaster-safety trainings and awareness programs in remote schools and villages.</p>

      <div class="cta-row">
        <button class="btn btn-primary" id="donateBtn">Donate Now</button>
        <button class="btn btn-secondary" id="bookBtn">Book Our Session</button>
        <a class="btn btn-secondary" href="#volunteer" style="text-decoration:none; display:inline-flex; align-items:center;">Volunteer With Us</a>
      </div>
    </div>

    <div class="hero-right">
      <div style="background:linear-gradient(180deg,#f7fff7,#ffffff); padding:14px; border-radius:12px; text-align:left;">
        <h4 style="margin:0;color:var(--green-dark)">Quick Impact</h4>
        <p style="margin:8px 0 0;color:#444; font-size:14px">Every craft bought funds one safety visit to a remote school.</p>
        <div class="stat" style="margin-top:12px">
          <h4>120+</h4>
          <p>children reached (demo)</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Mission / What We Do -->
  <section class="card" aria-labelledby="missionTitle">
    <h3 id="missionTitle">Our Mission</h3>
    <p><strong>Every year, thousands of lives are lost</strong> in remote communities because people lack simple safety knowledge. VanaMala buys traditional crafts from tribal artisans at fair prices and uses the proceeds to run short, practical safety workshops in remote schools: earthquake response, fire escape, and flood preparedness.</p>

    <div style="display:flex;gap:12px;flex-wrap:wrap;margin-top:12px">
      <div style="flex:1;min-width:220px">
        <h4 style="color:var(--green-dark);margin:6px 0">Who We Are</h4>
        <p style="color:#444">A student-led, mission-first group of volunteers working to support tribal artisans and save lives through education.</p>
      </div>
      <div style="flex:1;min-width:220px">
        <h4 style="color:var(--green-dark);margin:6px 0">What We Do</h4>
        <p style="color:#444">Buy crafts fairly • Host school safety sessions • Organize donation drives • Teach simple, repeatable safety steps.</p>
      </div>
    </div>

    <div style="display:flex;gap:10px;margin-top:14px;flex-wrap:wrap">
      <div style="flex:1;min-width:220px" class="stat">
        <h4>How Donations Help</h4>
        <p style="color:#444">Funds pay for travel, teaching materials, and fair prices to artisans.</p>
      </div>
      <div style="flex:1;min-width:220px" class="stat">
        <h4>Transparency</h4>
        <p style="color:#444">We record expenses and share short reports after every trip.</p>
      </div>
    </div>
  </section>

  <!-- Impact stats & Gallery -->
  <div class="grid">
    <div class="card">
      <h3>Impact Stats</h3>
      <div style="display:flex;gap:10px;margin-top:10px;flex-wrap:wrap">
        <div style="flex:1;min-width:140px" class="stat"><h4>200+</h4><p>Artisans contacted</p></div>
        <div style="flex:1;min-width:140px" class="stat"><h4>120+</h4><p>Children taught</p></div>
        <div style="flex:1;min-width:140px" class="stat"><h4>₹50k+</h4><p>Funds moved</p></div>
      </div>
      <p style="color:#666; margin-top:12px">(Numbers are examples — we update these after each trip.)</p>
    </div>

    <div class="card">
      <h3>Gallery (Preview)</h3>
      <div class="gallery">
        <div class="thumb">Photo 1</div>
        <div class="thumb">Photo 2</div>
        <div class="thumb">Photo 3</div>
        <div class="thumb">Photo 4</div>
      </div>
      <p style="color:#666;margin-top:10px">Add real photos later (stall shots, school visits, crafts).</p>
    </div>
  </div>

  <!-- Volunteer & Contact -->
  <div class="row" style="margin-top:20px">
    <div class="col card" id="volunteer">
      <h3>Volunteer With Us</h3>
      <p>We welcome students and community members for field support, content, logistics and teaching. No experience required — just willingness to help.</p>
      <p><strong>Roles we need:</strong> Field helpers, content creators, fund managers, drivers, and trainers.</p>
      <a class="btn btn-primary" href="#contact" style="text-decoration:none">Join as Volunteer</a>
    </div>

    <div class="col card" id="contact">
      <h3>Contact</h3>
      <p style="color:#444">Email: <a href="mailto:vanamalaofficial2@gmail.com">vanamalaofficial2@gmail.com</a></p>
      <p style="color:#444">Instagram: <a href="https://instagram.com/VanaMala" target="_blank">@VanaMala</a></p>
      <p style="color:#444">We respond within 48 hours.</p>
    </div>
  </div>
</main>

<footer>© 2025 VanaMala — Supporting Tribal Communities • Crafted with care</footer>

<!-- Donate popup (smaller, centered and nice) -->
<div id="donationPopup" class="popup-bg" role="dialog" aria-hidden="true">
  <div class="popup" role="document" aria-labelledby="donateTitle">
    <h4 id="donateTitle">Support Our Mission</h4>
    <p style="margin:6px 0;"><strong>UPI ID:</strong> akscosouth@okhdfcbank</p>

    <!-- QR image you uploaded -->
    <img class="qr-img" src="https://vanamalaofficial2-ux.github.io/tribalsupport/donation.png" alt="UPI QR">

    <p class="small-muted">Scan to pay with any UPI app</p>
    <div style="margin-top:12px">
      <button class="btn btn-primary" onclick="closeDonation()">Close</button>
    </div>
  </div>
</div>

<!-- Booking popup -->
<div id="sessionPopup" class="popup-bg" role="dialog" aria-hidden="true">
  <div class="popup" role="document" aria-labelledby="bookTitle">
    <h4 id="bookTitle">Book a Safety Session</h4>

    <form id="bookingForm" style="margin-top:8px" onsubmit="handleBooking(event)">
      <input class="input" type="text" name="user_name" id="user_name" placeholder="Full name" required>
      <input class="input" type="date" name="user_dob" id="user_dob" required>
      <input class="input" type="tel" name="user_phone" id="user_phone" placeholder="Phone number" required>

      <label class="lbl"><input type="checkbox" id="human_check" required> I'm not a robot</label>

      <div style="display:flex; gap:10px; margin-top:12px">
        <button class="btn btn-primary" type="submit" style="flex:1">Submit</button>
        <button type="button" class="btn btn-secondary" style="flex:1" onclick="closeSession()">Cancel</button>
      </div>

      <p id="bookingStatus" style="margin-top:10px; display:none; color:green;"></p>
    </form>
  </div>
</div>

<script>
  // Show/hide popups
  const donationPopup = document.getElementById('donationPopup');
  const sessionPopup = document.getElementById('sessionPopup');
  document.getElementById('donateBtn').addEventListener('click', () => donationPopup.style.display = 'flex');
  document.getElementById('bookBtn').addEventListener('click', () => sessionPopup.style.display = 'flex');
  function closeDonation(){ donationPopup.style.display = 'none'; }
  function closeSession(){ sessionPopup.style.display = 'none'; }

  // close when clicking outside popup
  window.addEventListener('click', (e) => {
    if(e.target === donationPopup) closeDonation();
    if(e.target === sessionPopup) closeSession();
  });

  // Booking: EmailJS send + fallback
  const SERVICE_ID = 'service_jps2f76';
  const TEMPLATE_ID = 'TEMPLATE_ID_HERE'; // <-- If you create a template, replace this. If not, fallback used.
  const TO_EMAIL = 'vanamalaofficial2@gmail.com';

  function handleBooking(e){
    e.preventDefault();
    const name = document.getElementById('user_name').value.trim();
    const dob = document.getElementById('user_dob').value;
    const phone = document.getElementById('user_phone').value.trim();
    const checked = document.getElementById('human_check').checked;
    const statusEl = document.getElementById('bookingStatus');

    if(!name || !dob || !phone || !checked){
      alert('Please fill all fields and verify you are not a robot.');
      return;
    }

    const templateParams = {
      user_name: name,
      user_dob: dob,
      user_phone: phone,
      to_email: TO_EMAIL
    };

    // Try sending via EmailJS (requires template ID). If TEMPLATE_ID is not set or sending fails, fallback to mailto + clipboard copy
    if(TEMPLATE_ID && TEMPLATE_ID !== 'TEMPLATE_ID_HERE'){
      emailjs.send(SERVICE_ID, TEMPLATE_ID, templateParams)
        .then(() => {
          statusEl.style.display = 'block'; statusEl.style.color = 'green';
          statusEl.textContent = 'Session booked — we will contact you soon.';
          copyToClipboard(templateParams);
          setTimeout(()=>{ closeSession(); statusEl.style.display='none'; document.getElementById('bookingForm').reset(); }, 1800);
        })
        .catch((err) => {
          console.error('EmailJS failed', err);
          fallbackSend(templateParams);
        });
    } else {
      // no template id set — fallback
      fallbackSend(templateParams);
    }
  }

  function fallbackSend(params){
    const statusEl = document.getElementById('bookingStatus');
    // copy details to clipboard
    copyToClipboard(params);
    // try open default email client with mailto prefilled
    const subject = encodeURIComponent('VanaMala Session Booking');
    const body = encodeURIComponent(`New session booking:\n\nName: ${params.user_name}\nDOB: ${params.user_dob}\nPhone: ${params.user_phone}\n\n(Please follow up with the volunteer.)`);
    const mailto = `mailto:${TO_EMAIL}?subject=${subject}&body=${body}`;
    // Show message and open mailto
    statusEl.style.display = 'block'; statusEl.style.color = 'orange';
    statusEl.textContent = 'Auto-send not configured — details copied to clipboard. Click OK to open your mail app.';
    setTimeout(()=>{ window.location.href = mailto; }, 500);
    // keep popup open so user can confirm
  }

  function copyToClipboard(params){
    const text = `Booking Details\nName: ${params.user_name}\nDOB: ${params.user_dob}\nPhone: ${params.user_phone}\nSend to: ${TO_EMAIL}`;
    if(navigator.clipboard && navigator.clipboard.writeText){
      navigator.clipboard.writeText(text).catch(()=>{ /* ignore */ });
    }
  }
</script>
</body>
</html>
