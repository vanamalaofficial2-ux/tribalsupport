<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>VanaMala Internal Portal</title>

<style>
body{
  font-family: Arial, sans-serif;
  background:#111;
  color:#fff;
  display:flex;
  justify-content:center;
  align-items:center;
  height:100vh;
}
.card{
  background:#1c1c1c;
  padding:25px;
  width:360px;
  border-radius:10px;
}
input,textarea,button{
  width:100%;
  margin:8px 0;
  padding:10px;
}
button{
  background:#c08b3e;
  border:none;
  font-weight:bold;
  cursor:pointer;
}
#error{color:red;display:none;}
#taskPage{display:none;}
</style>
</head>

<body>

<div class="card" id="loginPage">
  <h3>VanaMala Login</h3>
  <input id="empId" placeholder="Employee ID">
  <input id="password" type="password" placeholder="Password">
  <button onclick="login()">Login</button>
  <div id="error">Wrong ID or Password</div>
</div>

<div class="card" id="taskPage">
  <h3 id="name"></h3>
  <p id="role"></p>
  <b>Assigned Task:</b>
  <p id="task"></p>

  <textarea id="workDone" placeholder="Work done"></textarea>
  <input id="hours" placeholder="Time spent (hrs)">
  <button onclick="submitWork()">Submit Work</button>

  <button onclick="location.reload()">Logout</button>
</div>

<script>
/* ✅ YOUR DEPLOYED APPS SCRIPT URL */
const WEB_APP_URL =
"https://script.google.com/macros/s/AKfycbxA0GIpghtcblEEx2z713YV_qS8lOf930YQJauHJgNjTHZGjdWQUrOSY9zNqPctP5TE/exec";

/* ✅ ALL IDS + PASSWORDS (INCLUDING CEO) */
const employees = {
  "VM-CEO-01":{name:"Tinesh Reddy",role:"Founder & CEO",pass:"ceo@vm",
    task:"Review team submissions and prepare weekly summary."},

    "VM-PH-01":{name:"Sai Gokul",role:"Head – Photography",pass:"gokul@vm",
    task:"Develop a 'Visual Storytelling' catalog for IRIS MUN, capturing the raw process of artisans to be displayed on digital screens at the stall."},

  "VM-PH-02":{name:"Aditya Singathi",role:"Co-Head – Photography",pass:"aditya@vm",
    task:"Create a high-impact 'Brand Reel' for @vanamala.official that blends tribal heritage with the modern diplomatic aesthetic of the MUN audience."},

  "VM-FI-01":{name:"Jeevan Reddy",role:"Head – Finance",pass:"jeevan@vm",
    task:"Conduct a feasibility study on the IRIS MUN stall investment, including the 'Break-Even' analysis vs projected sales to the student demographic."},

  "VM-FI-02":{name:"Pralaksha Dash",role:"Finance Team",pass:"pralaksha@vm",
    task:"Design a dynamic inventory-linked pricing sheet for May that accounts for both bulk delegate discounts and premium 'Limited Edition' artisan pieces."},

  "VM-EV-01":{name:"Bavyesh Papetlla",role:"Head – Events",pass:"bavyesh@vm",
    task:"Engineer a 'Sustainable Stall Experience' that uses zero plastic and maximizes visitor engagement during the high-traffic 15-minute MUN breaks."},

  "VM-EV-02":{name:"Daiwik Paida",role:"Event Team",pass:"daiwik@vm",
    task:"Map out the technical floor plan for the stall, including power for digital displays and a specific 'interaction zone' for delegates to try on products."},

  "VM-SA-01":{name:"Ruhan Kanjani",role:"Head – Sales",pass:"ruhan@vm",
    task:"Draft the 'Elevator Pitch' for the sales team to convert passing delegates into customers by connecting tribal impact with global sustainability goals."},

  "VM-SA-02":{name:"Shreyas Bitra",role:"Sales Team",pass:"shreyas@vm",
    task:"Analyze past sales trends to curate a 'Delegate Essentials' product bundle (e.g., eco-friendly laptop sleeves or stationery) specifically for May 2026."},

  "VM-TR-01":{name:"Nirvan Krivi",role:"Head – Tribal Relations",pass:"nirvan@vm",
    task:"Coordinate with the artisan clusters to ensure a 100% authentic inventory supply that can be verified via 'Artisan ID' tags at the stall."},

  "VM-TR-02":{name:"Aaditi Behera",role:"Tribal Relations",pass:"aaditi@vm",
    task:"Research and write 'Impact Profiles' for each artisan group, creating a narrative that delegates can read while they browse the products."},

  "VM-SM-01":{name:"Kanishka Kodicherla",role:"Head – Social Media",pass:"kanishka@vm",
    task:"Develop the 'Road to IRIS MUN' content calendar for @vanamala.official, focusing on building hype and securing pre-orders via Instagram DMs."},

  "VM-SM-02":{name:"Aanya Singh",role:"Social Media Team",pass:"aanya@vm",
    task:"Design an 'On-Site Viral Strategy' for the stall, including a QR-code based contest that requires delegates to post a story to win a Vanamala hamper."},

  "VM-LO-01":{name:"Savya Kumar",role:"Logistics Head",pass:"savya@vm",
    task:"Formulate a 'Zero-Damage' transport and storage plan for moving fragile tribal inventory from the village clusters to the IRIS MUN venue."}
};


let currentUser=null;

function login(){
  const id=empId.value.trim().toUpperCase();
  const pw=password.value.trim();
  if(!employees[id] || employees[id].pass!==pw){
    error.style.display="block";return;
  }
  currentUser=employees[id];
  loginPage.style.display="none";
  taskPage.style.display="block";
  name.innerText=currentUser.name;
  role.innerText=currentUser.role;
  task.innerText=currentUser.task;
}

function submitWork(){
  fetch(WEB_APP_URL,{
    method:"POST",
    body:JSON.stringify({
      empId:empId.value.toUpperCase(),
      name:currentUser.name,
      role:currentUser.role,
      assignedTask:currentUser.task,
      workDone:workDone.value,
      hours:hours.value
    })
  })
  .then(r=>r.json())
  .then(()=>{alert("Submitted ✅");location.reload();});
}
</script>

</body>
</html>
