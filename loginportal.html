<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>VanaMala Internal Portal</title>

<style>
body{
  font-family: Arial, sans-serif;
  background:#111;
  color:#fff;
  display:flex;
  justify-content:center;
  align-items:center;
  height:100vh;
}
.card{
  background:#1c1c1c;
  padding:25px;
  width:360px;
  border-radius:10px;
}
input,textarea,button{
  width:100%;
  margin:8px 0;
  padding:10px;
}
button{
  background:#c08b3e;
  border:none;
  font-weight:bold;
  cursor:pointer;
}
#error{color:red;display:none;}
#taskPage{display:none;}
</style>
</head>

<body>

<div class="card" id="loginPage">
  <h3>VanaMala Login</h3>
  <input id="empId" placeholder="Employee ID">
  <input id="password" type="password" placeholder="Password">
  <button onclick="login()">Login</button>
  <div id="error">Wrong ID or Password</div>
</div>

<div class="card" id="taskPage">
  <h3 id="name"></h3>
  <p id="role"></p>
  <b>Assigned Task:</b>
  <p id="task"></p>

  <textarea id="workDone" placeholder="Work done"></textarea>
  <input id="hours" placeholder="Time spent (hrs)">
  <button onclick="submitWork()">Submit Work</button>

  <button onclick="location.reload()">Logout</button>
</div>

<script>
/* ✅ YOUR DEPLOYED APPS SCRIPT URL */
const WEB_APP_URL =
"https://script.google.com/macros/s/AKfycbxA0GIpghtcblEEx2z713YV_qS8lOf930YQJauHJgNjTHZGjdWQUrOSY9zNqPctP5TE/exec";

/* ✅ ALL IDS + PASSWORDS (INCLUDING CEO) */
const employees = {
  "VM-CEO-01":{name:"Tinesh Reddy",role:"Founder & CEO",pass:"ceo@vm",
    task:"Review team submissions and prepare weekly summary."},

  "VM-PH-01":{name:"Sai Gokul",role:"Head – Photography",pass:"gokul@vm",
    task:"2026 lo 'Deepfake' tech peaks ki vellindi. Manam oka photo release chesthe, adi 100% human-shot ani audience ela nammali? Mana visuals ki 'Digital Provenance' (ante idi fake kadu ani proof) create cheyadaniki mana workflow lo em changes techcharu"},

  "VM-PH-02":{name:"Aditya Singathi",role:"Co-Head – Photography",pass:"aditya@vm",
    task:"Mee iddariki (Head & Co-Head) oka creative visual direction lo opinion mismatch vasthe—ante okaru 'Minimalist' kavali antaru, inkokaru 'Hyper-realistic' kavali antaru—appudu project quality debba tinakunda meeru tiskune 'Tie-breaking' decision process enti?"},

  "  "VM-FI-01":{name:"Jeevan Reddy",role:"Head – Finance",pass:"jeevan@vm",
    task:"Calculate the 'Break-even Point' for the IRIS MUN stall, factoring in the stall fee, transport, and 3-day staff maintenance vs projected sales."},

  "VM-FI-02":{name:"Pralaksha Dash",role:"Finance Team",pass:"pralaksha@vm",
    task:"Set up a digital payment tracking system for the stall that can handle high-frequency small transactions without network lag during peak MUN breaks."},

  "VM-EV-01":{name:"Bavyesh Papetlla",role:"Head – Events",pass:"bavyesh@vm",
    task:"Design a 'Vanamala Experience' stall that stands out in a crowded MUN venue, ensuring the layout allows for both product browsing and storytelling."},

  "VM-EV-02":{name:"Daiwik Paida",role:"Event Team",pass:"daiwik@vm",
    task:"Create a 'Shift & Logistics' roster for the 3-day event to ensure the stall is never unattended during high-traffic delegate lunch hours."},

  "VM-SA-01":{name:"Ruhan Kanjani",role:"Head – Sales",pass:"ruhan@vm",
    task:"Develop a 'MUN Delegate Pitch'—train the team to explain the tribal origin of Vanamala products in under 60 seconds to busy students."},

  "VM-SA-02":{name:"Shreyas Bitra",role:"Sales Team",pass:"shreyas@vm",
    task:"Curate a 'Student-Friendly' product bundle (e.g., sustainable desk accessories) priced specifically for the typical MUN delegate's pocket money budget."},

  "VM-TR-01":{name:"Nirvan Krivi",role:"Head – Tribal Relations",pass:"nirvan@vm",
    task:"Select products that align with the 'Sustainability' themes of MUN, ensuring each item has a tag explaining which tribal community it supports."},

  "VM-TR-02":{name:"Aaditi Behera",role:"Tribal Relations",pass:"aaditi@vm",
    task:"Prepare 'Impact Stories'—short, printable cards for each product that tell the human story of the artisan to create an emotional connection with buyers."},

  "VM-SM-01":{name:"Kanishka Kodicherla",role:"Head – Social Media",pass:"kanishka@vm",
    task:"Plan an 'Instagram Live' schedule from the IRIS MUN stall and design a 'Tag Vanamala to Win' contest to increase our follower count during the event."},

  "VM-SM-02":{name:"Aanya Singh",role:"Social Media Team",pass:"aanya@vm",
    task:"Design a 'Photo-Op' corner at the stall (Instagrammable spot) that encourages delegates to take pictures with our products and tag @vanamala.official."},

  "VM-LO-01":{name:"Savya Kumar",role:"Logistics Head",pass:"savya@vm",
    task:"Manage the 'Last-Mile' delivery of fragile inventory to the IRIS MUN venue and plan the restock route if top-selling items run out on Day 1."}

};

let currentUser=null;

function login(){
  const id=empId.value.trim().toUpperCase();
  const pw=password.value.trim();
  if(!employees[id] || employees[id].pass!==pw){
    error.style.display="block";return;
  }
  currentUser=employees[id];
  loginPage.style.display="none";
  taskPage.style.display="block";
  name.innerText=currentUser.name;
  role.innerText=currentUser.role;
  task.innerText=currentUser.task;
}

function submitWork(){
  fetch(WEB_APP_URL,{
    method:"POST",
    body:JSON.stringify({
      empId:empId.value.toUpperCase(),
      name:currentUser.name,
      role:currentUser.role,
      assignedTask:currentUser.task,
      workDone:workDone.value,
      hours:hours.value
    })
  })
  .then(r=>r.json())
  .then(()=>{alert("Submitted ✅");location.reload();});
}
</script>

</body>
</html>
