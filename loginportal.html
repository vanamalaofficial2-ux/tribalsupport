<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>VanaMala | Internal Portal</title>

<!-- Google Fonts for a Premium Look -->
<link href="https://fonts.googleapis.com" rel="stylesheet">

<style>
:root {
  --primary: #c08b3e; /* Artisan Gold */
  --bg: #0d0d0d;
  --card-bg: rgba(28, 28, 28, 0.8);
  --text: #f4f4f4;
  --accent: #8b6b3d;
}

body {
  font-family: 'Inter', sans-serif;
  background: radial-gradient(circle at top right, #1a1510, #0d0d0d);
  color: var(--text);
  margin: 0;
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
  overflow: hidden;
}

/* Background Decoration */
body::before {
  content: "";
  position: absolute;
  width: 300px;
  height: 300px;
  background: var(--primary);
  filter: blur(150px);
  opacity: 0.15;
  top: 10%;
  left: 10%;
  z-index: -1;
}

.card {
  background: var(--card-bg);
  backdrop-filter: blur(12px);
  padding: 40px;
  width: 100%;
  max-width: 400px;
  border-radius: 20px;
  border: 1px solid rgba(192, 139, 62, 0.2);
  box-shadow: 0 20px 40px rgba(0,0,0,0.6);
  transition: transform 0.3s ease;
}

h3 {
  font-family: 'Playfair Display', serif;
  font-size: 28px;
  color: var(--primary);
  margin-bottom: 20px;
  text-align: center;
  letter-spacing: 1px;
}

p { font-weight: 300; color: #bbb; line-height: 1.6; }
#role { font-weight: 600; color: var(--primary); font-size: 14px; text-transform: uppercase; margin-bottom: 20px; text-align: center; }

input, textarea {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  color: #fff;
  border-radius: 8px;
  padding: 12px 15px;
  margin-bottom: 15px;
  width: 100%;
  box-sizing: border-box;
  font-family: 'Inter', sans-serif;
  transition: all 0.3s ease;
}

input:focus, textarea:focus {
  outline: none;
  border-color: var(--primary);
  background: rgba(255, 255, 255, 0.08);
}

button {
  background: linear-gradient(45deg, var(--primary), var(--accent));
  color: #111;
  border: none;
  padding: 14px;
  border-radius: 8px;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 1px;
  cursor: pointer;
  transition: all 0.3s ease;
  margin-top: 10px;
}

button:hover {
  transform: translateY(-2px);
  box-shadow: 0 5px 15px rgba(192, 139, 62, 0.4);
}

.logout-btn {
  background: transparent;
  color: #888;
  font-size: 12px;
  text-decoration: underline;
  margin-top: 20px;
}
.logout-btn:hover { background: transparent; color: #fff; box-shadow: none; transform: none; }

#error { color: #ff4d4d; font-size: 13px; text-align: center; margin-top: 10px; display: none; }
#taskPage { display: none; text-align: left; }

/* Mobile optimization */
@media (max-width: 480px) {
  .card { width: 85%; padding: 25px; }
}
</style>
</head>

<body>

<div class="card" id="loginPage">
  <h3>VanaMala</h3>
  <p style="text-align:center; margin-bottom:25px;">Internal Portal</p>
  <input id="empId" placeholder="Employee ID (VM-XX-00)">
  <input id="password" type="password" placeholder="Password">
  <button onclick="login()">Enter Workspace</button>
  <div id="error">Authentication Failed</div>
</div>

<div class="card" id="taskPage">
  <h3 id="name" style="margin-bottom:5px;"></h3>
  <div id="role"></div>
  
  <div style="background: rgba(192, 139, 62, 0.1); padding: 15px; border-radius: 10px; border-left: 3px solid var(--primary); margin-bottom: 25px;">
    <b style="color: var(--primary); font-size: 12px; text-transform: uppercase;">May 2026 Goal: IRIS MUN Stall</b>
    <p id="task" style="color: #eee; font-size: 15px; margin: 8px 0 0 0;"></p>
  </div>

  <textarea id="workDone" rows="4" placeholder="Describe progress made today..."></textarea>
  <input id="hours" type="number" placeholder="Time spent (hours)">
  <button onclick="submitWork()">Submit Daily Report</button>

  <button class="logout-btn" onclick="location.reload()">Logout from Portal</button>
</div>

<script>
/* ✅ YOUR DEPLOYED APPS SCRIPT URL */
const WEB_APP_URL = "https://script.google.com/macros/s/AKfycbyMJLavhNj9krpCm0dvbMe2ULLeM7fXJL0D0eQb72IsomK3ByNzHWWT4ZmGHfzfDZDb/exec";


const employees = {
  "VM-CEO-01":{name:"Tinesh Reddy",role:"Founder & CEO",pass:"ceo@vm", task:"Review team submissions and prepare weekly summary."},
  "VM-PH-01":{name:"Sai Gokul",role:"Head – Photography",pass:"gokul@vm", task:"Develop a 'Visual Storytelling' catalog for IRIS MUN, capturing the raw process of artisans to be displayed on digital screens at the stall."},
  "VM-PH-02":{name:"Aditya Singathi",role:"Co-Head – Photography",pass:"aditya@vm", task:"Create a high-impact 'Brand Reel' for @vanamala.official that blends tribal heritage with the modern diplomatic aesthetic of the MUN audience."},
  "VM-FI-01":{name:"Jeevan Reddy",role:"Head – Finance",pass:"jeevan@vm", task:"Conduct a feasibility study on the IRIS MUN stall investment, including the 'Break-Even' analysis vs projected sales to the student demographic."},
  "VM-FI-02":{name:"Pralaksha Dash",role:"Finance Team",pass:"pralaksha@vm", task:"Design a dynamic inventory-linked pricing sheet for May that accounts for both bulk delegate discounts and premium 'Limited Edition' artisan pieces."},
  "VM-EV-01":{name:"Bavyesh Papetlla",role:"Head – Events",pass:"bavyesh@vm", task:"Engineer a 'Sustainable Stall Experience' that uses zero plastic and maximizes visitor engagement during the high-traffic 15-minute MUN breaks."},
  "VM-EV-02":{name:"Daiwik Paida",role:"Event Team",pass:"daiwik@vm", task:"Map out the technical floor plan for the stall, including power for digital displays and a specific 'interaction zone' for delegates to try on products."},
  "VM-SA-01":{name:"Ruhan Kanjani",role:"Head – Sales",pass:"ruhan@vm", task:"Draft the 'Elevator Pitch' for the sales team to convert passing delegates into customers by connecting tribal impact with global sustainability goals."},
  "VM-SA-02":{name:"Shreyas Bitra",role:"Sales Team",pass:"shreyas@vm", task:"Analyze past sales trends to curate a 'Delegate Essentials' product bundle (e.g., eco-friendly laptop sleeves or stationery) specifically for May 2026."},
  "VM-TR-01":{name:"Nirvan Krivi",role:"Head – Tribal Relations",pass:"nirvan@vm", task:"Coordinate with the artisan clusters to ensure a 100% authentic inventory supply that can be verified via 'Artisan ID' tags at the stall."},
  "VM-TR-02":{name:"Aaditi Behera",role:"Tribal Relations",pass:"aaditi@vm", task:"Research and write 'Impact Profiles' for each artisan group, creating a narrative that delegates can read while they browse the products."},
  "VM-SM-01":{name:"Kanishka Kodicherla",role:"Head – Social Media",pass:"kanishka@vm", task:"Develop the 'Road to IRIS MUN' content calendar for @vanamala.official, focusing on building hype and securing pre-orders via Instagram DMs."},
  "VM-SM-02":{name:"Aanya Singh",role:"Social Media Team",pass:"aanya@vm", task:"Design an 'On-Site Viral Strategy' for the stall, including a QR-code based contest that requires delegates to post a story to win a Vanamala hamper."},
  "VM-LO-01":{name:"Savya Kumar",role:"Logistics Head",pass:"savya@vm", task:"Formulate a 'Zero-Damage' transport and storage plan for moving fragile tribal inventory from the village clusters to the IRIS MUN venue."}
};

let currentUser=null;

function login(){
  const id=document.getElementById('empId').value.trim().toUpperCase();
  const pw=document.getElementById('password').value.trim();
  const errorDiv = document.getElementById('error');
  
  if(!employees[id] || employees[id].pass!==pw){
    errorDiv.style.display="block";
    return;
  }
  
  currentUser=employees[id];
  document.getElementById('loginPage').style.display="none";
  document.getElementById('taskPage').style.display="block";
  document.getElementById('name').innerText=currentUser.name;
  document.getElementById('role').innerText=currentUser.role;
  document.getElementById('task').innerText=currentUser.task;
}

function submitWork(){
  const btn = document.querySelector("#taskPage button");
  btn.innerText = "Processing...";
  btn.disabled = true;

  fetch(WEB_APP_URL,{
    method:"POST",
    mode: "no-cors", // Added for typical Apps Script cross-origin
    body:JSON.stringify({
      empId:document.getElementById('empId').value.toUpperCase(),
      name:currentUser.name,
      role:currentUser.role,
      assignedTask:currentUser.task,
      workDone:document.getElementById('workDone').value,
      hours:document.getElementById('hours').value
    })
  })
  .then(()=>{
    alert("Impact Submitted Successfully ✅");
    location.reload();
  })
  .catch(err => {
    alert("Submission Error. Please check connection.");
    btn.innerText = "Submit Daily Report";
    btn.disabled = false;
  });
}
</script>

</body>
</html>

