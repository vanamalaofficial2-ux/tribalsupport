<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>VanaMala — Tribal Art & Safety</title>
  <meta name="description" content="VanaMala — Fair trade & safety programs for tribal communities.">
  <meta name="theme-color" content="#5a2e0a">

  <!-- Fonts (Google) -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700;800&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">

  <style>
    /* ===========================
       ROOT, RESET & UTILITY
       =========================== */
    :root{
      --bg: #fbf4ec;
      --brown-1: #5a2e0a;    /* primary brown */
      --brown-2: #c68b3b;    /* warm gold */
      --muted: #6b5850;
      --card: #fffefc;
      --glass: rgba(255,255,255,0.9);
      --radius: 14px;
      --shadow-lg: 0 24px 80px rgba(0,0,0,0.12);
      --shadow-sm: 0 8px 28px rgba(0,0,0,0.06);
      --ease: cubic-bezier(.2,.9,.27,1);
      --maxw: 1180px;
      --focus: 3px solid rgba(198,139,60,0.12);
    }

    *{box-sizing:border-box;margin:0;padding:0}
    html,body{height:100%}
    body{
      font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Poppins", Arial;
      -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
      background: linear-gradient(180deg,#fbf4ec 0%, #f3e9dd 60%, #efe2d4 100%);
      color: #2f241c;
      line-height:1.55;
      -webkit-user-select:text;
      -ms-text-size-adjust:100%;
    }

    .container{ max-width:var(--maxw); margin:0 auto; padding:28px; }

    a{ color:inherit; text-decoration:none; }

    /* subtle focus ring for keyboard users */
    :focus{ outline: var(--focus); outline-offset:4px; }

    /* ===========================
       SPLASH / INTRO (V + ANAMALA)
       =========================== */
    /* Full window overlay */
    #introOverlay{
      position:fixed; inset:0; display:flex; align-items:center; justify-content:center;
      background: var(--brown-1); z-index:9999; overflow:hidden;
      /* ensure a subtle cinematic lines background (light) */
      background-image: linear-gradient(90deg, rgba(255,255,255,0.02) 1px, transparent 1px);
      background-size: 40px 40px;
      flex-direction:row;
      gap:18px;
    }

    /* Big V on left — white */
    #introV{
      font-family: Poppins, sans-serif;
      font-weight:900;
      color: #fffdf6;
      font-size: 180px;
      line-height: .9;
      transform-origin:center;
      opacity:0;
      transform: scale(1.6);
      /* zoom animation */
      animation: vZoom 1.2s var(--ease) forwards;
    }

    @keyframes vZoom{
      0% { transform: scale(2.2); opacity:0; filter: blur(8px); }
      40% { transform: scale(1); opacity:1; filter: blur(0); }
      100% { transform: scale(1); opacity:1; }
    }

    /* "ANAMALA" slides in from the right side of V (same row) */
    #introText{
      font-family:Poppins, sans-serif;
      font-weight:700;
      color: #fffdf6;
      font-size: 64px;
      letter-spacing: 2px;
      opacity:0;
      transform: translateX(160px);
      animation: textSlide 1s var(--ease) forwards;
      animation-delay: 1.05s; /* start after V zoom */
    }

    @keyframes textSlide{
      0% { transform: translateX(160px); opacity:0 }
      100% { transform: translateX(0); opacity:1 }
    }

    /* After both show, morph/merge (subtle) then fade overlay */
    #introCombine{
      position:absolute; bottom:30px; left:50%; transform:translateX(-50%); color:rgba(255,255,255,0.12);
      font-family:Inter; font-size:12px; pointer-events:none; letter-spacing:1.2px;
      opacity:0; transform-origin:center; animation: combineIn .6s var(--ease) forwards;
      animation-delay: 1.85s;
    }
    @keyframes combineIn{ to{ opacity:1 } }

    /* fade overlay */
    #introOverlay.fadeOut{
      animation: fadeOverlay .7s ease forwards;
      animation-delay: 0.35s;
    }
    @keyframes fadeOverlay{
      to{ opacity:0; visibility:hidden; transform:translateY(-6px) }
    }

    /* ===========================
       PAGE LAYOUT (visible after intro)
       =========================== */
    /* page wrapper initially hidden until intro finishes */
    #siteRoot{ visibility:hidden; opacity:0; transform:translateY(6px); transition: all .7s var(--ease); }

    #siteRoot.visible{ visibility:visible; opacity:1; transform:none; }

    /* Header */
    header.site{
      display:flex; align-items:center; justify-content:space-between; gap:16px;
      padding:18px; border-radius:12px; background: linear-gradient(180deg, rgba(255,255,255,0.96), rgba(255,255,255,0.92));
      box-shadow: var(--shadow-sm);
      position:sticky; top:12px; z-index:40;
    }
    .brand{ display:flex; gap:12px; align-items:center; }
    .logo{
      width:56px; height:56px; border-radius:12px; background: linear-gradient(180deg,var(--brown-1),var(--brown-2));
      display:flex; align-items:center; justify-content:center; color:white; font-weight:800; font-family:Poppins;
      box-shadow: 0 8px 28px rgba(0,0,0,0.06);
    }
    .brand h1{ margin:0; font-family:Poppins; font-size:20px; color:var(--brown-1); font-weight:700 }
    nav.actions{ display:flex; gap:12px; align-items:center; }

    .btn{
      padding:10px 14px; border-radius:10px; font-weight:700; cursor:pointer; border:2px solid transparent;
      transition: transform .24s var(--ease), box-shadow .24s var(--ease), background .24s var(--ease);
      font-family:Inter;
    }
    .btn-primary{ background: linear-gradient(90deg,var(--brown-2),var(--brown-1)); color:white; box-shadow: 0 12px 36px rgba(90,45,12,0.12) }
    .btn-ghost{ background:transparent; color:var(--brown-1); border:2px solid rgba(90,45,12,0.08) }
    .btn:hover{ transform: translateY(-6px) }

    /* HERO (Apple-clean with tribal warmth) */
    .hero{
      display:flex; gap:28px; align-items:stretch; margin-top:22px;
      background: linear-gradient(180deg, rgba(255,255,255,0.98), rgba(255,255,255,0.96));
      padding:36px; border-radius:16px; box-shadow:var(--shadow-lg); overflow:hidden;
    }
    .hero-left{ flex:1; display:flex; flex-direction:column; justify-content:center }
    .kicker{ display:inline-block; background: rgba(198,139,60,0.07); color:var(--brown-1); padding:8px 12px; border-radius:10px; font-weight:800; font-size:12px; letter-spacing:1px }
    h2.title{ font-family:Poppins; font-size:48px; margin:18px 0 6px; color:var(--brown-1); line-height:1.02 }
    p.lead{ color:var(--muted); font-size:18px; max-width:720px; margin-bottom:20px }

    .cta-row{ display:flex; gap:12px; align-items:center; flex-wrap:wrap }

    .hero-right{ width:340px; flex-shrink:0; display:flex; flex-direction:column; gap:14px; align-items:stretch }
    .infoCard{
      background:var(--card); padding:16px; border-radius:12px; box-shadow:var(--shadow-sm);
      transition: transform .36s var(--ease), box-shadow .36s var(--ease);
    }
    .infoCard:hover{ transform: translateY(-8px); box-shadow: 0 28px 60px rgba(0,0,0,0.08) }

    /* Breakdown grid */
    .breakdown{ margin-top:26px; padding:22px; border-radius:12px; background: linear-gradient(180deg,#fff,#fff); box-shadow:var(--shadow-sm) }
    .grid{ display:grid; grid-template-columns: repeat(3,1fr); gap:16px; margin-top:16px }
    .tile{ padding:18px; border-radius:12px; background: linear-gradient(180deg, rgba(255,255,255,0.98), rgba(255,255,255,0.98)); box-shadow:0 12px 26px rgba(0,0,0,0.04) }

    .tile h4{ margin:0 0 8px; color:var(--brown-1) }
    .tile p{ margin:0; color:var(--muted) }

    /* Footer */
    footer{ margin-top:36px; text-align:center; color:var(--muted); padding:28px 0 }

    /* Modal */
    .modal-backdrop{ display:none; position:fixed; inset:0; background: rgba(10,10,10,0.45); z-index:1500; align-items:center; justify-content:center; padding:20px }
    .modal{ width:460px; max-width:96%; background:var(--card); border-radius:12px; padding:22px; text-align:center; box-shadow:0 30px 100px rgba(0,0,0,0.24) }
    .qr{ width:260px; height:260px; object-fit:contain; margin:12px auto; background:white; padding:8px; border-radius:10px }
    .modal .small{ color:var(--muted); margin-top:8px }

    /* Fade-in utilities for scrolling */
    .fade-in{ opacity:0; transform: translateY(12px); transition: all .8s var(--ease) }
    .fade-in.visible{ opacity:1; transform:none }

    /* Responsiveness */
    @media (max-width:980px){
      .hero{ flex-direction:column }
      .hero-right{ width:100% }
      .grid{ grid-template-columns: repeat(1, 1fr) }
      h2.title{ font-size:36px }
      #introV{ font-size:120px }
      #introText{ font-size:40px }
    }
  </style>
</head>
<body>

  <!-- =====================
       SPLASH / INTRO
       (V big left, ANAMALA slides in from right side)
       ===================== -->
  <div id="introOverlay" role="region" aria-label="Intro animation">
    <div id="introV" aria-hidden="true">V</div>
    <div id="introText" aria-hidden="true">ANAMALA</div>

    <!-- faint small text for cinematic effect -->
    <div id="introCombine">WELCOME — VANAMALA</div>
  </div>

  <!-- =====================
       SITE (hidden while intro visible)
       ===================== -->
  <div id="siteRoot">
    <div class="container">
      <!-- header -->
      <header class="site" role="banner">
        <div class="brand" aria-hidden="false">
          <div class="logo" aria-hidden="true">VM</div>
          <div>
            <h1>VanaMala</h1>
            <div style="font-size:13px;color:var(--muted)">Bringing tribal art to every heart</div>
          </div>
        </div>

        <nav class="actions" role="navigation" aria-label="Top actions">
          <button class="btn btn-ghost" id="btnMissionTop">See Our Mission</button>
          <button class="btn btn-primary" id="btnDonateTop">Donate</button>
        </nav>
      </header>

      <!-- hero -->
      <section class="hero" role="region" aria-label="Intro hero">
        <div class="hero-left">
          <div class="kicker">AUTHENTIC · HANDMADE · IMPACT</div>
          <h2 class="title">Empowering tribal communities with fair trade & safety</h2>
          <p class="lead">We buy clay toys and crafts directly from tribal artisans at fair prices, and use the proceeds to run life-saving safety workshops and sustainable programs in remote schools.</p>

          <div class="cta-row">
            <button class="btn btn-primary" id="btnExplore">Explore Our Mission</button>
            <button class="btn btn-ghost" id="btnDonateInline">Donate</button>
          </div>
        </div>

        <aside class="hero-right" aria-label="Quick facts">
          <div class="infoCard fade-in">
            <h4>Quick facts</h4>
            <p>Every product funds an awareness visit — helping children stay safe during emergencies.</p>
          </div>

          <div class="infoCard fade-in" style="animation-delay:.06s">
            <h4>UPI</h4>
            <p style="font-weight:700; color:var(--brown-1); margin-top:8px">akscosouth@okhdfcbank</p>
            <p class="small muted" style="margin-top:8px">Click Donate to open secure QR & copy UPI option.</p>
          </div>
        </aside>
      </section>

      <!-- breakdown -->
      <section class="breakdown" aria-labelledby="whereTitle">
        <h3 id="whereTitle" style="color:var(--brown-1); margin:0 0 8px">Where donations go — transparent example</h3>
        <p class="muted" style="margin:0 0 12px">Example split of ₹100 donated (illustrative):</p>

        <div class="grid">
          <div class="tile fade-in">
            <h4>Field visits</h4>
            <p class="muted">~40% — travel, safety materials, trainers for workshops in remote schools.</p>
          </div>

          <div class="tile fade-in" style="animation-delay:.06s">
            <h4>Artisan uplift</h4>
            <p class="muted">~35% — fair procurement price & direct small grants to artisans and families.</p>
          </div>

          <div class="tile fade-in" style="animation-delay:.12s">
            <h4>Operations & growth</h4>
            <p class="muted">~25% — logistics, coordination, and building sustainable systems.</p>
          </div>
        </div>
      </section>

      <footer>
        © 2025 VanaMala — Supporting Tribal Communities
      </footer>
    </div>
  </div>

  <!-- =====================
       DONATE MODAL
       ===================== -->
  <div class="modal-backdrop" id="donateModal" aria-hidden="true" role="dialog" aria-modal="true">
    <div class="modal" role="document" aria-labelledby="donateTitle">
      <h3 id="donateTitle">Support VanaMala</h3>

      <!-- Use the QR image link you provided; it will load if available -->
      <img class="qr" id="qrImage" src="https://vanamalaofficial2-ux.github.io/tribalsupport/donation.png" alt="UPI QR code (akscosouth@okhdfcbank)">

      <div class="small" style="margin-top:8px">UPI ID: <strong>akscosouth@okhdfcbank</strong></div>

      <div style="display:flex; gap:10px; justify-content:center; margin-top:14px;">
        <button class="btn btn-primary" id="copyUpi">Copy UPI</button>
        <button class="btn btn-ghost" id="closeDonate">Close</button>
      </div>
    </div>
  </div>

  <!-- =====================
       SCRIPTS: animation flow, interactions & accessibility
       ===================== -->
  <script>
    (function(){
      // Elements
      const intro = document.getElementById('introOverlay');
      const site = document.getElementById('siteRoot');
      const introV = document.getElementById('introV');
      const introText = document.getElementById('introText');
      const combine = document.getElementById('introCombine');

      // Buttons & modal
      const btnMissionTop = document.getElementById('btnMissionTop');
      const btnExplore = document.getElementById('btnExplore');
      const btnDonateTop = document.getElementById('btnDonateTop');
      const btnDonateInline = document.getElementById('btnDonateInline');
      const donateModal = document.getElementById('donateModal');
      const closeDonate = document.getElementById('closeDonate');
      const copyUpiBtn = document.getElementById('copyUpi');
      const qrImg = document.getElementById('qrImage');

      // mission URL (open in new tab)
      const missionURL = 'https://vanamalaofficial2-ux.github.io/tribalsupport/Ourmission.html';

      // Show combine (subtle) after text slides in
      setTimeout(()=> {
        if(combine) combine.style.opacity = '1';
      }, 1850);

      // After full intro timeline, fade overlay and reveal page
      // total visually ~2.8s: keep consistent with animations
      setTimeout(()=> {
        intro.classList.add('fadeOut');

        // show site with smooth transition
        setTimeout(()=> {
          site.classList.add('visible');
          // ensure visibility property changed
          site.style.visibility = 'visible';
          // add fade-in visible classes to fade-in elements progressively
          setTimeout(()=> {
            document.querySelectorAll('.fade-in').forEach((el, i) => {
              setTimeout(()=> el.classList.add('visible'), 120 * i);
            });
          }, 120);
        }, 420); // small delay to allow overlay fade to start
      }, 2800);

      // Allow Escape to dismiss intro overlay early (dev convenience)
      document.addEventListener('keydown', (e) => {
        if(e.key === 'Escape'){
          if(intro) { intro.classList.add('fadeOut'); }
          if(site){ site.classList.add('visible'); site.style.visibility='visible'; }
        }
      });

      // BUTTON BEHAVIORS (smooth transitions)
      function openMission(){
        // animate slight click feedback then open URL
        const el = btnMissionTop || btnExplore;
        if(el){ el.animate([{transform:'translateY(0)'},{transform:'translateY(-6px)'},{transform:'translateY(0)'}], {duration:420, easing:'ease'}); }
        // open mission in new tab
        window.open(missionURL, '_blank', 'noopener');
      }
      btnMissionTop?.addEventListener('click', openMission);
      btnExplore?.addEventListener('click', openMission);

      // Donate modal open / close
      function showModal(){
        donateModal.style.display = 'flex';
        donateModal.setAttribute('aria-hidden','false');
        // focus copy button for accessibility
        setTimeout(()=> copyUpiBtn.focus(), 80);
      }
      function hideModal(){
        donateModal.style.display = 'none';
        donateModal.setAttribute('aria-hidden','true');
      }
      btnDonateTop?.addEventListener('click', showModal);
      btnDonateInline?.addEventListener('click', showModal);
      closeDonate?.addEventListener('click', hideModal);
      donateModal?.addEventListener('click', (e) => { if(e.target === donateModal) hideModal(); });
      document.addEventListener('keydown', (e) => { if(e.key === 'Escape') hideModal(); });

      // Copy UPI to clipboard with feedback
      const upiId = 'akscosouth@okhdfcbank';
      copyUpiBtn?.addEventListener('click', async () => {
        try{
          if(navigator.clipboard && navigator.clipboard.writeText){
            await navigator.clipboard.writeText(upiId);
          } else {
            const tmp = document.createElement('input');
            tmp.value = upiId; document.body.appendChild(tmp);
            tmp.select(); document.execCommand('copy'); tmp.remove();
          }
          const original = copyUpiBtn.textContent;
          copyUpiBtn.textContent = 'Copied ✓';
          copyUpiBtn.disabled = true;
          setTimeout(()=> { copyUpiBtn.textContent = original; copyUpiBtn.disabled = false; }, 1400);
        } catch(err){
          alert('Copy failed — long-press UPI on mobile to copy.');
          console.warn(err);
        }
      });

      // Ensure QR image fallback if external hosted QR fails to load
      qrImg.onerror = function(){
        // fallback to programmatic QR generation using qrserver with UPI deep-link data
        const upiLink = encodeURIComponent('upi://pay?pa=' + upiId + '&pn=VanaMala&cu=INR');
        qrImg.src = 'https://api.qrserver.com/v1/create-qr-code/?size=320x320&data=' + upiLink;
      };

      // Minor: add pointer cursor for clickable info cards
      document.querySelectorAll('.infoCard').forEach(el => { el.style.cursor = 'pointer'; el.addEventListener('click', ()=> showModal()); });

      // small onload polish: if user reloads and intro overlay stuck hidden (rare), ensure site visible
      window.addEventListener('load', ()=> {
        setTimeout(()=> {
          if(getComputedStyle(intro).visibility === 'hidden' && getComputedStyle(site).visibility !== 'visible'){
            site.style.visibility = 'visible';
            site.classList.add('visible');
          }
        }, 1000);
      });

    })();
  </script>
</body>
</html>

