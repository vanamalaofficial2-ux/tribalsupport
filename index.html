<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>VanaMala ‚Äî Tribal Art & Safety (Redesign)</title>
  <meta name="description" content="VanaMala ‚Äî We buy tribal crafts fairly and run safety awareness programs in remote schools." />
  <meta name="theme-color" content="#3f2b20">

  <!--
    VanaMala - Single file modern theme
    - Preserves all your original text content and UPI details
    - New visual language: deep-earth premium theme, smooth interactions
    - Donate popup is glassmorphism style, accessible
    - Contact click-to-call integrated
    - Many small transitions and defensive JS checks to avoid crashes
  -->

  <style>
  /* --------------- CSS: THEME & RESET --------------- */
  :root{
    /* earth tones */
    --bg-1: #f7f3ee;
    --surface: #fffdf9;
    --deep: #362116;
    --warm: #8b4f2f;
    --accent: #c88a3e;
    --muted: #6b5a4f;
    --glass: rgba(255,255,255,0.7);
    --glass-2: rgba(255,255,255,0.88);
    --card-shadow: 0 18px 48px rgba(38,28,20,0.09);
    --glass-shadow: 0 20px 60px rgba(0,0,0,0.16);
    --radius: 16px;
    --max-width: 1150px;
  }
  /* base reset */
  *,*::before,*::after{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0;
    font-family: "Inter", "Poppins", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
    background:
      linear-gradient(180deg, #f9f6f2 0%, #efe8dd 40%, #f6f2ec 100%);
    color:var(--deep);
    line-height:1.55;
    -webkit-touch-callout: none;
  }

  /* container center */
  .wrap{max-width:var(--max-width);margin:32px auto;padding:18px}

  /* ---------- Top header ---------- */
  header.app-header{
    background: linear-gradient(90deg,var(--warm),var(--accent));
    color:white;
    border-radius: 14px;
    padding:28px 22px;
    box-shadow: var(--glass-shadow);
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap:20px;
  }
  .brand{
    display:flex;
    align-items:center;
    gap:18px;
  }
  .logo-mark{
    width:58px;height:58px;border-radius:10px;
    background:rgba(255,255,255,0.12);
    display:flex;align-items:center;justify-content:center;
    font-weight:800;color:rgba(255,255,255,0.95);
    font-size:18px;box-shadow:0 6px 18px rgba(0,0,0,0.12);
  }
  .brand h1{font-size:22px;margin:0;font-weight:800;letter-spacing:0.6px}
  .brand p{margin:0;font-size:13px;opacity:0.95}

  /* small nav / status */
  .header-actions{display:flex;gap:12px;align-items:center}
  .small-pill{
    background:rgba(255,255,255,0.12);padding:10px 12px;border-radius:999px;font-weight:700;font-size:13px;
    color:white;box-shadow:0 6px 18px rgba(0,0,0,0.08)
  }

  /* ---------- HERO ---------- */
  .hero{
    display:flex;
    gap:28px;
    margin-top:20px;
    align-items:center;
    background: linear-gradient(180deg, var(--glass-2), rgba(255,255,255,0.88));
    border-radius: var(--radius);
    padding:30px;
    box-shadow: var(--card-shadow);
    backdrop-filter: blur(6px);
    animation: heroIntro .7s ease;
  }
  @keyframes heroIntro{from{opacity:0;transform:translateY(12px)}to{opacity:1;transform:none}}

  .hero-left{flex:1}
  .kicker{display:inline-block;background:rgba(74,46,28,0.06);padding:8px 12px;border-radius:10px;color:var(--warm);font-weight:800;font-size:12px;letter-spacing:0.6px}
  h2.hero-title{font-size:34px;margin:14px 0;color:var(--deep);line-height:1.08}
  p.lead{color:var(--muted);margin:0 0 14px;max-width:68ch;font-size:15px}

  .cta-row{display:flex;gap:12px;flex-wrap:wrap}
  .btn{
    padding:12px 18px;border-radius:12px;border:0;font-weight:800;cursor:pointer;font-size:14px;
    transition: transform .18s ease, box-shadow .18s ease;
    box-shadow: 0 10px 28px rgba(0,0,0,0.06);
  }
  .btn.primary{background:var(--deep);color:white}
  .btn.ghost{background:transparent;color:var(--deep);border:2px solid rgba(55,38,28,0.08)}

  .btn.primary:hover{transform:translateY(-6px)}
  .btn.ghost:hover{transform:translateY(-6px)}

  .hero-right{width:320px;flex-shrink:0;display:flex;flex-direction:column;gap:14px}
  .info{
    background:white;padding:14px;border-radius:12px;box-shadow:0 12px 34px rgba(0,0,0,0.06)
  }
  .info h4{margin:0 0 6px;color:var(--deep);font-size:15px}
  .info p{margin:0;color:var(--muted);font-size:13px}

  /* ---------- MISSION (big card with image) ---------- */
  .mission{
    margin-top:28px;
    display:flex;
    gap:26px;
    align-items:flex-start;
    background: linear-gradient(180deg, rgba(255,255,255,0.96), rgba(255,255,255,0.92));
    padding:26px;border-radius:14px;box-shadow:var(--card-shadow);
    animation: floatIn .7s ease;
  }
  @keyframes floatIn{from{opacity:0;transform:translateY(12px)}to{opacity:1;transform:none}}
  .mission .photo{
    width:420px;height:260px;flex-shrink:0;border-radius:12px;overflow:hidden;
    box-shadow:0 10px 36px rgba(0,0,0,0.12);
  }
  .mission .photo img{width:100%;height:100%;object-fit:cover}
  .mission .body{flex:1}
  .mission h3{margin:0;font-size:26px;color:var(--deep)}
  .mission p{color:var(--muted);margin-top:12px}
  .mission ul{margin-top:12px;color:#3b2b22;line-height:1.6}

  /* ---------- PRODUCTS GRID ---------- */
  .products{
    margin-top:30px;text-align:center;
  }
  .products h3{color:var(--deep);font-size:26px;margin-bottom:12px}
  .grid{
    display:grid;
    grid-template-columns: repeat(3,1fr);
    gap:20px;
    align-items:stretch;
    margin-top:18px;
  }
  .product-card{
    background:white;border-radius:14px;overflow:hidden;box-shadow:0 18px 46px rgba(0,0,0,0.06);
    transition:transform .32s ease, box-shadow .32s ease;
  }
  .product-card:hover{transform:translateY(-12px);box-shadow:0 36px 80px rgba(0,0,0,0.12)}
  .product-card img{width:100%;height:200px;object-fit:cover}
  .product-card .pbody{padding:16px}
  .product-card h4{margin:0 0 8px;color:var(--deep)}
  .product-card p{margin:0;color:var(--muted);font-size:14px}

  /* ---------- CONTACT / FOOTER ---------- */
  footer.site-footer{
    margin-top:48px;background:linear-gradient(90deg,var(--warm),var(--accent));color:white;padding:26px;border-radius:12px;
    text-align:center;font-weight:700;
  }
  .contacts{
    display:flex;gap:14px;justify-content:center;margin-top:10px;flex-wrap:wrap;
  }
  .call-pill{background:rgba(255,255,255,0.12);padding:10px 14px;border-radius:12px;color:white;text-decoration:none;font-weight:800}

  /* ---------- Floating Donate Button ---------- */
  .float-donate{
    position:fixed;right:22px;bottom:26px;background:linear-gradient(90deg,var(--warm),var(--accent));
    color:white;padding:14px 18px;border-radius:999px;display:flex;align-items:center;gap:10px;cursor:pointer;
    box-shadow:0 28px 60px rgba(0,0,0,0.22);z-index:9999;font-weight:800;transition:transform .18s ease;
  }
  .float-donate:hover{transform:translateY(-8px)}

  /* ---------- Popup (glass) ---------- */
  .popup-wrap{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(8,8,8,0.5);z-index:9998}
  .popup{
    width:400px;max-width:92%;background:linear-gradient(180deg,rgba(255,255,255,0.95),rgba(255,255,255,0.86));
    border-radius:14px;padding:20px;text-align:center;box-shadow:var(--glass-shadow);backdrop-filter:blur(8px)
  }
  .popup h3{margin:10px 0;color:var(--deep)}
  .qr{width:260px;height:260px;object-fit:contain;margin:8px auto;border-radius:10px;background:white;padding:8px}
  .popup p.note{color:var(--muted);font-size:14px;margin-top:6px}
  .popup .actions{display:flex;gap:10px;justify-content:center;margin-top:12px}
  .sm-btn{padding:10px 14px;border-radius:10px;border:0;cursor:pointer;font-weight:700}
  .sm-btn.primary{background:var(--deep);color:white}
  .sm-btn.ghost{background:white;border:2px solid rgba(0,0,0,0.06);color:var(--deep)}

  /* ---------- Accessibility focus styles ---------- */
  a:focus, button:focus, input:focus{outline:3px solid rgba(200,138,62,0.18);outline-offset:2px}

  /* ---------- Responsive ---------- */
  @media (max-width:980px){
    .grid{grid-template-columns:repeat(2,1fr)}
    .mission{flex-direction:column}
    .mission .photo{width:100%;height:240px}
    .hero{flex-direction:column}
    .hero-right{width:100%}
  }
  @media (max-width:600px){
    .grid{grid-template-columns:1fr}
    header.app-header{flex-direction:column;align-items:flex-start;gap:12px}
    .brand h1{font-size:20px}
    .hero-left h2{font-size:24px}
    .mission .photo{height:200px}
  }

  /* ---------- small helpers & spacing for printout ----- */
  .sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
  .muted{color:var(--muted)}
  .center{text-align:center}
  </style>
</head>
<body>

  <div class="wrap">

    <!-- HEADER -->
    <header class="app-header" role="banner" aria-label="VanaMala header">
      <div class="brand" aria-hidden="false">
        <div class="logo-mark">VM</div>
        <div>
          <h1>VanaMala</h1>
          <p class="sr-only">Bringing tribal art to every heart</p>
        </div>
      </div>

      <div class="header-actions" role="navigation" aria-label="Top actions">
        <div class="small-pill">Authentic ‚Ä¢ Handmade ‚Ä¢ Impact</div>
        <div style="display:flex;gap:8px;align-items:center">
          <a class="small-pill" href="https://vanamalaofficial2-ux.github.io/tribalsupport/Ourmission.html" target="_blank" rel="noopener">Our Mission</a>
        </div>
      </div>
    </header>

    <!-- HERO -->
    <section class="hero" aria-labelledby="hero-title">
      <div class="hero-left">
        <div class="kicker">AUTHENTIC ‚Ä¢ HANDMADE ‚Ä¢ IMPACT</div>
        <h2 id="hero-title" class="hero-title">Discover tribal crafts that change lives</h2>
        <p class="lead">We buy clay toys and crafts directly from tribal artisans at fair prices, then use the profits to run life-saving safety sessions in remote schools and support community needs.</p>

        <div class="cta-row" role="group" aria-label="Primary actions">
          <button class="btn primary" id="donateTop">Donate Now</button>
          <a class="btn ghost" href="https://vanamalaofficial2-ux.github.io/tribalsupport/Ourmission.html" target="_blank" rel="noopener">Read Our Mission</a>
        </div>
      </div>

      <aside class="hero-right" aria-labelledby="quick-facts">
        <div class="info" id="quick-facts">
          <h4>Quick Facts</h4>
          <p><strong>Buy fair ‚Ä¢ Teach safety</strong><br>Every product funds an awareness visit.</p>
        </div>

        <div class="info" aria-hidden="false">
          <h4>UPI</h4>
          <p style="font-weight:700;color:var(--deep)">akscosouth@okhdfcbank</p>
        </div>
      </aside>
    </section>

    <!-- MISSION -->
    <section class="mission" aria-labelledby="missionTitle">
      <figure class="photo" aria-hidden="true">
        <!-- local path 'mission.png' is used in your repo; replace if required -->
        <img src="mission.png" alt="Village craft making photo (VanaMala mission image)" onerror="this.style.opacity=0.6; this.src='https://images.unsplash.com/photo-1598387993441-019c77b5c9cc?auto=format&fit=crop&w=900&q=60'">
      </figure>

      <div class="body">
        <h3 id="missionTitle">Our Mission</h3>

        <p><strong>Every year, over 8,000+ people lose their lives in India due to man-made disasters, remote-village accidents, floods, fires and lack of emergency awareness.</strong></p>

        <p>Many tribal children grow up without safety education, without support, and without hope. We buy clay toys and crafts at fair prices so tribal artists earn more ‚Äî and we use the profits to travel to remote schools and teach simple, life-saving safety steps:</p>

        <ul>
          <li>How to stay safe during an earthquake</li>
          <li>How to exit safely during a fire</li>
          <li>Basic flood preparedness and calm response</li>
        </ul>

        <div style="margin-top:14px">
          <button class="btn primary" id="donateInCard">Donate Now</button>
          <a class="btn ghost" href="https://vanamalaofficial2-ux.github.io/tribalsupport/Ourmission.html" target="_blank" rel="noopener">Learn More</a>
        </div>
      </div>
    </section>

    <!-- PRODUCTS -->
    <section class="products" aria-labelledby="productsTitle">
      <h3 id="productsTitle">Crafts We Bring</h3>

      <div class="grid" role="list">
        <article class="product-card" role="listitem" aria-labelledby="p1">
          <img src="https://images.unsplash.com/photo-1598387993441-019c77b5c9cc?auto=format&fit=crop&w=900&q=60" alt="Clay toys image">
          <div class="pbody">
            <h4 id="p1">Clay Toys</h4>
            <p>Handcrafted clay toys carrying the warmth of Indian villages.</p>
          </div>
        </article>

        <article class="product-card" role="listitem" aria-labelledby="p2">
          <img src="https://images.unsplash.com/photo-1523413651479-597eb2da0ad6?auto=format&fit=crop&w=900&q=60" alt="Folk paintings image">
          <div class="pbody">
            <h4 id="p2">Folk Paintings</h4>
            <p>Unique traditional art celebrating culture and stories.</p>
          </div>
        </article>

        <article class="product-card" role="listitem" aria-labelledby="p3">
          <img src="https://images.unsplash.com/photo-1508556497405-ed7dcd94ac68?auto=format&fit=crop&w=900&q=60" alt="Decor pieces image">
          <div class="pbody">
            <h4 id="p3">Decor Pieces</h4>
            <p>Beautiful handmade decor crafted with love and care.</p>
          </div>
        </article>
      </div>
    </section>

    <!-- CONTACT -->
    <section aria-labelledby="contactTitle" style="margin-top:28px;text-align:center">
      <h3 id="contactTitle" style="margin-bottom:8px;color:var(--deep)">Contact Us</h3>
      <div class="contacts" role="group" aria-label="Contact numbers">
        <a class="call-pill" href="tel:9246780138" aria-label="Call 9246780138">üìû 9246780138</a>
        <a class="call-pill" href="tel:6303795998" aria-label="Call 6303795998">üìû 6303795998</a>
        <a class="call-pill" href="mailto:vanamalaofficial2@gmail.com" aria-label="Email vanamalaofficial2">‚úâÔ∏è Email Us</a>
      </div>
    </section>

    <!-- FOOTER -->
    <footer class="site-footer" role="contentinfo">
      ¬© 2025 VanaMala ‚Äî Supporting Tribal Communities
    </footer>
  </div> <!-- .wrap -->

  <!-- Floating donate -->
  <div class="float-donate" id="floatDonate" role="button" aria-label="Donate now button">
    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true">
      <path d="M12 21s8-4.35 8-10.5S15.5 3 12 6 4 4.5 4 10.5 12 21 12 21z" fill="white"/>
    </svg>
    Donate
  </div>

  <!-- Popup markup (keeps UPI + QR) -->
  <div class="popup-wrap" id="donationPopup" aria-hidden="true" role="dialog" aria-modal="true">
    <div class="popup" role="document" aria-labelledby="donateTitle">
      <h3 id="donateTitle">Support Our Mission</h3>
      <p style="margin:8px 0;"><strong>UPI ID:</strong> akscosouth@okhdfcbank</p>

      <!-- QR image from your GitHub link -->
      <img class="qr" src="https://vanamalaofficial2-ux.github.io/tribalsupport/donation.png" alt="UPI QR code for akscosouth@okhdfcbank" onerror="this.alt='UPI QR image failed to load'">

      <p class="note">Scan with any UPI app to donate securely. OR copy the UPI ID and pay from your app.</p>

      <div class="actions" role="group" aria-label="Donation actions">
        <button class="sm-btn primary" id="copyBtn">Copy UPI</button>
        <button class="sm-btn ghost" id="closeBtn">Close</button>
      </div>
    </div>
  </div>

<script>
/* --------------- JS: Behaviour & Defensive Guards --------------- */
/*
  Purpose:
  - Open/close donate popup
  - Copy UPI safely with fallback
  - Prevent errors if elements missing
  - Provide friendly feedback
*/

/* helper: safe query */
function $id(id){ try{return document.getElementById(id)}catch(e){return null} }

/* elements */
const popupWrap = $id('donationPopup');
const floatBtn = $id('floatDonate');
const donateTop = $id('donateTop');
const donateInCard = $id('donateInCard');
const copyBtn = $id('copyBtn');
const closeBtn = $id('closeBtn');

/* ensure functions don't crash if missing */
function openPopup(){
  if(!popupWrap) return;
  popupWrap.style.display = 'flex';
  popupWrap.setAttribute('aria-hidden','false');
  // trap focus on popup for accessibility
  setTimeout(()=> {
    const btn = popupWrap.querySelector('button');
    if(btn) btn.focus();
  }, 80);
}
function closePopup(){
  if(!popupWrap) return;
  popupWrap.style.display = 'none';
  popupWrap.setAttribute('aria-hidden','true');
}

/* event wiring with guards */
if(floatBtn) floatBtn.addEventListener('click', openPopup);
if(donateTop) donateTop.addEventListener('click', openPopup);
if(donateInCard) donateInCard.addEventListener('click', openPopup);
if(closeBtn) closeBtn.addEventListener('click', closePopup);

/* copy to clipboard with fallback */
if(copyBtn){
  copyBtn.addEventListener('click', async function(){
    const upi = 'akscosouth@okhdfcbank';
    try{
      if(navigator.clipboard && navigator.clipboard.writeText){
        await navigator.clipboard.writeText(upi);
        const t = copyBtn;
        t.textContent = 'Copied ‚úì';
        t.style.background = 'var(--deep)';
        setTimeout(()=>{ t.textContent='Copy UPI'; t.style.background=''; }, 1600);
      } else {
        // fallback: create temporary input
        const tmp = document.createElement('input');
        tmp.value = upi;
        document.body.appendChild(tmp);
        tmp.select();
        document.execCommand('copy');
        document.body.removeChild(tmp);
        copyBtn.textContent = 'Copied ‚úì';
        setTimeout(()=>{ copyBtn.textContent='Copy UPI'; }, 1600);
      }
    } catch(err){
      console.error('Copy failed', err);
      alert('Copy failed. Please long-press the UPI ID on mobile to copy.');
    }
  });
}

/* close when clicking outside popup content */
if(popupWrap){
  popupWrap.addEventListener('click', function(e){
    if(e.target === popupWrap) closePopup();
  });
}

/* keyboard escape closes popup */
document.addEventListener('keydown', function(e){
  if(e.key === 'Escape' && popupWrap && popupWrap.style.display === 'flex') closePopup();
});

/* small entrance effect for float button */
setTimeout(() => {
  if(floatBtn) floatBtn.style.transform = 'translateY(-6px)';
}, 600);

/* defensive: prevent script errors when elements not present */
(function(){
  // basic sanity checks - logs to console to show you ran diagnostics
  try{
    if(!popupWrap) console.warn('Donation popup not found - popup features disabled');
    if(!floatBtn) console.warn('Floating donate button not found');
    // add more diagnostic logs if needed
  } catch(err){
    console.error('Diagnostics error', err);
  }
})();

/* Accessible focus trap (basic) for the popup
   - Keeps keyboard focus inside the popup while open
   - This is a simple implementation for demo purposes
*/
(function(){
  let lastFocused = null;
  document.addEventListener('focus', function(ev){
    if(popupWrap && popupWrap.style.display === 'flex'){
      if(!popupWrap.contains(ev.target)){
        ev.stopPropagation();
        const focusable = popupWrap.querySelector('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');
        if(focusable) focusable.focus();
      }
    } else {
      // store last focused before open
      lastFocused = ev.target;
    }
  }, true);

  // when popup closes return focus to lastFocused
  const origClose = closePopup;
  closePopup = function(){
    origClose();
    if(lastFocused && typeof lastFocused.focus === 'function') lastFocused.focus();
  };
})();

/* End of JS */
</script>

</body>
</html>
